---
import Layout from '@/layouts/Layout.astro';
import Banner from '@/components/Banner/Banner.astro';
import Timer from '@/components/Timer/Timer.astro';
import ModelList from '@/components/Model/ModelList.astro';
import Model from '@/components/Model/Model.astro';
import Callback from '@/components/Callback.astro';
import Services from '@/components/Services.astro';
import Contacts from '@/components/Contacts.astro';
import {BASE_URL, SITE_URL, TIMER_ENDTIME} from '@/const';
const models = await fetch(`${BASE_URL}${SITE_URL}/data/models.json`).then((response) => response.json());
// import models from '@/data/models.json'
---

<Layout title="TITLE" description="DESCRIPTION">
	<Banner fetchURL={`${BASE_URL}${SITE_URL}/data/banners.json`} />
	{TIMER_ENDTIME && <Timer endtime={TIMER_ENDTIME} title="До конца акции осталось" subtitle="Подзаголовок" />}
	<ModelList fetchURL={`${BASE_URL}${SITE_URL}/data/models.json`} />
	{models && models.map((model: any) => model.show && <Model model={model}/>)}
	<Callback bgUrl="https://baic-krasnodar.ru/img/x35/konkurenty.jpg" />
	<Services fetchURL={`${BASE_URL}${SITE_URL}/data/services.json`} />
	<Contacts
		fetchURL={`${BASE_URL}${SITE_URL}/data/salons.json`}
		mapImg="/img/map-bg.webp"
		title="Наши контакты"
	/>
</Layout>
